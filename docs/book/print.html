<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Documentation Website</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="HomePage.html">Home Page</a></li><li class="chapter-item expanded "><a href="App.html"><strong aria-hidden="true">1.</strong> App</a></li><li class="chapter-item expanded "><a href="Events.html"><strong aria-hidden="true">2.</strong> Events</a></li><li class="chapter-item expanded "><a href="Layers.html"><strong aria-hidden="true">3.</strong> Layers</a></li><li class="chapter-item expanded "><a href="Input.html"><strong aria-hidden="true">4.</strong> Input</a></li><li class="chapter-item expanded affix "><div>Development Diary</div></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Documentation Website</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="lince-game-engine"><a class="header" href="#lince-game-engine">Lince Game Engine</a></h1>
<p>Lince is a game engine written entirely in C targetted towards 2D games. The engine is currently a work in progress, and it's so early in its development that it doesn't even qualify as pre-alpha - the basic foundations of the renderer are being built and it won't be usable for some time.</p>
<h2 id="basic-code-example"><a class="header" href="#basic-code-example">Basic Code Example</a></h2>
<pre><code class="language-c">#include &lt;stdio.h&gt;
#include &quot;lince.h&quot;

void Init() {
	printf(&quot; Game started!\n&quot;);
}

void OnUpdate(float dt) {
	printf(&quot; dt = %.3f ms\n&quot;, dt * 1000.0f);
}

void Terminate() {
	printf(&quot; Game terminated!\n&quot;);
}

int main() {

	LinceApp* app = LinceGetAppState();

	app-&gt;game_init = Init;
	app-&gt;game_on_update = OnUpdate;
	app-&gt;game_terminate = Terminate;

	LinceRun();

	return 0;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="app"><a class="header" href="#app">App</a></h1>
<h2 id="linceapp"><a class="header" href="#linceapp">LinceApp</a></h2>
<p>Structure members of <code>LinceApp</code>.</p>
<p>The global state of the application is stored in a <code>LinceApp</code> structure allocated on the stack. Prior to running the application, the user may change the program's settings via this structure.</p>
<p>Once the settings have been tuned, call the function <code>LinceRun()</code> to initialise the application.</p>
<h3 id="user-settings"><a class="header" href="#user-settings">User settings</a></h3>
<ul>
<li><code>void* user_data</code>
<ul>
<li>Pointer for custom data set by the user</li>
</ul>
</li>
</ul>
<h3 id="user-callbacks"><a class="header" href="#user-callbacks">User callbacks</a></h3>
<p>These callbacks should be set before the applciation starts running.</p>
<ul>
<li><code>void game_init(void)</code>
<ul>
<li>Function called when the program starts.</li>
</ul>
</li>
<li><code>void game_on_update(float dt)</code>
<ul>
<li>Function called on every game tick.</li>
<li>The sole argument <code>float dt</code> is the delta time between frames.</li>
</ul>
</li>
<li><code>void game_on_event(LinceEvent* event)</code>
<ul>
<li>Function called when engine event takes place</li>
<li>The argument <code>event</code> is the engine event that the user can handle.</li>
</ul>
</li>
<li><code>void game_terminate(void)</code>
<ul>
<li>Function called when the application is closed.</li>
<li>You should free your allocated memory here.</li>
</ul>
</li>
</ul>
<h3 id="internal-state"><a class="header" href="#internal-state">Internal state</a></h3>
<p>These structure members handle the internal state of the application and do not act as user-defined settings.</p>
<ul>
<li><code>LinceWindow* window</code>
<ul>
<li>Stores the state of the window as well as the handle to the GLFw window object.</li>
</ul>
</li>
<li><code>LinceLayerStack* layer_stack</code>
<ul>
<li>Stack of rendering layers that are drawn from last to first.</li>
<li>These are added by the user.</li>
</ul>
</li>
<li><code>LinceLayerStack* overlay_stack</code>
<ul>
<li>Stack of overlays, which are layers that are rendered on top of the game proper. </li>
<li>These usually constitute UI elements and menus.</li>
</ul>
</li>
<li><code>LinceBool running</code>
<ul>
<li>Boolean that indicates whether the program is running.</li>
</ul>
</li>
<li><code>float time_ms</code>
<ul>
<li>Number of milliseconds since the start of the application.</li>
</ul>
</li>
<li><code>float dt</code>
<ul>
<li>Time step in seconds between frames, calculated from the system clock.</li>
</ul>
</li>
<li><code>int current_layer</code>
<ul>
<li>Index of the layer that is being rendered on the layer stack.</li>
<li>If no layer is active, this takes the value <code>-1</code>.</li>
</ul>
</li>
<li><code>int current_overlay</code>
<ul>
<li>Index of the overlay that is being rendered on the overlay stack.</li>
<li>If no overlay is active, this takes the value <code>-1</code>.</li>
</ul>
</li>
</ul>
<h2 id="lincegetappstate"><a class="header" href="#lincegetappstate">LinceGetAppState</a></h2>
<pre><code class="language-c">LinceApp* LinceGetAppState()
</code></pre>
<p>Returns a pointer the the application state and user settings.</p>
<p>Example:</p>
<pre><code class="language-c">void Init() {
	printf(&quot; Game started!\n&quot;);
}

void OnUpdate(float dt) {
	printf(&quot; dt = %.3f ms\n&quot;, dt * 1000.0f);
}

void Terminate() {
	printf(&quot; Game terminated!\n&quot;);
}

int main() {

	// setup callbacks
	LinceApp* app = LinceGetAppState();
	app-&gt;game_init = Init;
	app-&gt;game_on_update = OnUpdate;
	app-&gt;game_terminate = Terminate;

	// start the application
	LinceRun();

	return 0;
}
</code></pre>
<h2 id="lincerun"><a class="header" href="#lincerun">LinceRun</a></h2>
<pre><code class="language-c">void LinceRun()
</code></pre>
<p>Creates a window and initialises the application. At this point, you should interact with the app via the callback functions.</p>
<h2 id="lincecheckerrors"><a class="header" href="#lincecheckerrors">LinceCheckErrors</a></h2>
<pre><code class="language-c">void LinceCheckErrors()
</code></pre>
<p>Fetches OpenGL errors and stops the application if one is found.</p>
<h2 id="lincegettimemillis"><a class="header" href="#lincegettimemillis">LinceGetTimeMillis</a></h2>
<pre><code class="language-c">double LinceGetTimeMillis()
</code></pre>
<p>Returns the number of milliseconds since the application started.</p>
<h2 id="lincegetaspectratio"><a class="header" href="#lincegetaspectratio">LinceGetAspectRatio</a></h2>
<pre><code class="language-c">float LinceGetAspectRatio()
</code></pre>
<p>Returns the aspect ratio of the application window.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="events"><a class="header" href="#events">Events</a></h1>
<p>Events are generated when a certain action is executed, either by the player or by the application. Examples are mouse button clicks, key strokes, mouse movement, and window resizing. Every time an event takes place, a callback function is called and a <code>LinceEvent</code> object is generated and propagated through the engine. If set, your game will receive this events through a custom <code>OnEvent</code> function via the <code>game_on_event</code> callback (see <a href="./App.html">App</a>).</p>
<p>Events are first passed to the application's <code>game_on_event</code> (see <a href="./App.html">App</a>) and then to the OnEvent callback of each of the overlays and layers (see <a href="./Layers.html">Layers</a>).</p>
<h2 id="linceevent"><a class="header" href="#linceevent">LinceEvent</a></h2>
<p>Structure that holds the data relevant to an event.</p>
<ul>
<li><code>LinceEventType type</code>
<ul>
<li>Enum that describes the type of event (see <a href="Events.html##LinceEventType">LinceEventType</a>). </li>
</ul>
</li>
<li><code>LinceBool handled</code>
<ul>
<li>Boolean that indicates whether the event should be propagated further.</li>
</ul>
</li>
<li><code>LinceEventData data</code>
<ul>
<li>Union that holds the data for all the possible types of events</li>
<li>You should only retrieve the data corresponding to the event's type.</li>
</ul>
</li>
<li><code>char name[LINCE_NAME_MAX]</code>
<ul>
<li>Debug name, unused.</li>
</ul>
</li>
</ul>
<h2 id="linceeventtype"><a class="header" href="#linceeventtype">LinceEventType</a></h2>
<p>Event types predefined by the engine.</p>
<table><thead><tr><th>Enum</th><th>Value</th></tr></thead><tbody>
<tr><td>LinceEventType_None</td><td>0</td></tr>
<tr><td>LinceEventType_WindowClose</td><td>1</td></tr>
<tr><td>LinceEventType_WindowResize</td><td>2</td></tr>
<tr><td>LinceEventType_KeyPressed</td><td>3</td></tr>
<tr><td>LinceEventType_KeyReleased</td><td>4</td></tr>
<tr><td>LinceEventType_KeyType</td><td>5</td></tr>
<tr><td>LinceEventType_MouseButtonPressed</td><td>6</td></tr>
<tr><td>LinceEventType_MouseButtonReleased</td><td>7</td></tr>
<tr><td>LinceEventType_MouseMoved</td><td>8</td></tr>
<tr><td>LinceEventType_MouseScrolled</td><td>9</td></tr>
<tr><td>LinceEventType_EventNum</td><td>10</td></tr>
</tbody></table>
<h2 id="lincedispatchevent"><a class="header" href="#lincedispatchevent">LinceDispatchEvent</a></h2>
<pre><code class="language-c">LinceBool LinceDispatchEvent(LinceEvent* event, LinceEventType event_type, LinceEventFn callback)
</code></pre>
<p>Handles a given event with a callback only if it matches the given event type.</p>
<p>Parameters:</p>
<ul>
<li><code>LinceEvent* event</code>
<ul>
<li>Event to dispatch</li>
</ul>
</li>
<li><code>LinceEventType event_type</code>
<ul>
<li>Desired type of the event to dispatch</li>
</ul>
</li>
<li><code>LinceEventFn callback</code>: function that is called to handle the event if it is of the desired type. It must have the signature <code>LinceBool callback(LinceEvent*)</code> and should return <code>LinceTrue</code> (= 1) if it handled the event, and <code>LinceFalse</code> (= 0) otherwise.</li>
</ul>
<p>Returns:</p>
<ul>
<li><code>LinceBool</code>: boolean indicates whether event has been handled and should not be propagated further.</li>
</ul>
<p>Example:</p>
<pre><code class="language-c">LinceBool OnMouseClick(LinceEvent* e){
	printf(&quot;Mouse button clicked!\n&quot;);
	return LinceFalse;
}

void GameOnEvent(LinceEvent* e){
	LinceDispatchEvent(e, LinceEventType_MouseButtonPressed, OnMouseClick);
}
</code></pre>
<h2 id="keypressedevent"><a class="header" href="#keypressedevent">KeyPressedEvent</a></h2>
<p>Takes place when a key on the keyboard is pressed. Usually, this occurs once when the key is pressed, and then after a cooldown, it occurs repeatedly if the key is held down. The specific event data is retrieved via <code>LinceEvent.data.KeyPressed</code>.</p>
<p>Data:</p>
<ul>
<li><code>int keycode</code>
<ul>
<li>Keycode as defined by the enum <code>LinceKey</code> (see <a href="./Input.html">Input</a> chapter).</li>
</ul>
</li>
<li><code>int repeats</code>
<ul>
<li>Number of repeat events generated when a key is held down. Currently unused.</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-c">LinceBool OnKeyPress(LinceEvent* e){
	KeyPressedEvent* kp = e-&gt;data.KeyPressed;
	printf(&quot; Key pressed: %d\n&quot;, kp-&gt;keycode);
	return LinceFalse;
}
</code></pre>
<h2 id="keyreleasedevent"><a class="header" href="#keyreleasedevent">KeyReleasedEvent</a></h2>
<p>Takes place when a keyboard key is released. The specific event data is retrieved via <code>LinceEvent.data.KeyReleased</code>.</p>
<p>Data:</p>
<ul>
<li><code>int keycode</code>
<ul>
<li>Key code as defined by the enum <code>LinceKey</code> (see <a href="./Input.html">Input</a> chapter).</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-c">LinceBool OnKeyRelease(LinceEvent* e){
	KeyReleasedEvent* kr = e-&gt;data.KeyReleased;
	printf(&quot; Key released: %d\n&quot;, kr-&gt;keycode);
	return LinceFalse;
}
</code></pre>
<h2 id="keytypeevent"><a class="header" href="#keytypeevent">KeyTypeEvent</a></h2>
<p>Takes place when text is being typed. The specific event data is retrieved via <code>LinceEvent.data.KeyType</code>.</p>
<p>Data:</p>
<ul>
<li><code>int keycode</code>
<ul>
<li>Key code as defined by the enum <code>LinceKey</code> (see <a href="./Input.html">Input</a> chapter).</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-c">LinceBool OnKeyType(LinceEvent* e){
	KeyTypeEvent* kt = e-&gt;data.KeyType;
	printf(&quot;Key typed: %d\n&quot;, kt-&gt;keycode);
	return LinceFalse;
}
</code></pre>
<h2 id="windowcloseevent"><a class="header" href="#windowcloseevent">WindowCloseEvent</a></h2>
<p>Takes place when the window has been signaled to close. The specific event data is retrieved via <code>LinceEvent.data.WindowClose</code>, although it holds no usable data but a dummy heap-allocated integer whose value is unused.</p>
<p>Data:</p>
<ul>
<li><code>int dummy</code>
<ul>
<li>Unused placeholder data. The event being generated in the first place is indicative that the window should close.</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-c">LinceBool OnWindowClose(LinceEvent* e){
	printf(&quot; Closing window!\n&quot;);
	FreeMemory();
	TerminateGame();
	return LinceTrue;
}
</code></pre>
<h2 id="windowresizeevent"><a class="header" href="#windowresizeevent">WindowResizeEvent</a></h2>
<p>Takes place when the size or shape of the window is changed. The specific event data is retrieved via <code>LinceEvent.data.WindowResize</code>.</p>
<p>Data:</p>
<ul>
<li><code>unsigned int height</code>
<ul>
<li>New height of the window in pixels.</li>
</ul>
</li>
<li><code>unsigned int width</code>
<ul>
<li>New width of the window in pixels.</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-c">LinceBool OnWindowResize(LinceEvent* e){
	WindowResizeEvent* wr = e-&gt;data.WindowResize;
	printf(&quot; Window resized to %ux%u\n&quot;, wr-&gt;width, wr-&gt;height);
	return LinceFalse;
}
</code></pre>
<h2 id="mousebuttonpressedevent"><a class="header" href="#mousebuttonpressedevent">MouseButtonPressedEvent</a></h2>
<p>Takes place when a mouse button is clicked. The specific event data is retrieved via <code>LinceEvent.data.MouseButtonPressed</code>.</p>
<p>Data:</p>
<ul>
<li><code>int button</code>
<ul>
<li>Button code defined by the enum <code>LinceMouseButton</code> (see <a href="./Input.html">Input</a> chapter).</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-c">LinceBool OnMouseButtonPress(LinceEvent* e){
	MouseButtonPressedEvent* mbp = e-&gt;data.MouseButtonPressed;
	printf(&quot; Mouse button pressed: %d\n&quot;, mbp-&gt;button);
	return LinceFalse;
}
</code></pre>
<h2 id="mousebuttonreleasedevent"><a class="header" href="#mousebuttonreleasedevent">MouseButtonReleasedEvent</a></h2>
<p>Takes place when a mouse button is released. The specific event data is retrieved via <code>LinceEvent.data.MouseButtonReleased</code>.</p>
<p>Data:</p>
<ul>
<li><code>int button</code>
<ul>
<li>Button code defined by the enum <code>LinceMouseButton</code> (see <a href="./Input.html">Input</a> chapter).</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-c">LinceBool OnMouseButtonRelease(LinceEvent* e){
	MouseButtonReleasedEvent* mbr = e-&gt;data.MouseButtonReleased;
	printf(&quot; Mouse button released: %d\n&quot;, mbr-&gt;button);
	return LinceFalse;
}
</code></pre>
<h2 id="mousemovedevent"><a class="header" href="#mousemovedevent">MouseMovedEvent</a></h2>
<p>Takes place when the mouse is moved anywhere on the screen. The specific event data is retrieved via <code>LinceEvent.data.MouseMoved</code>.</p>
<p>Data:</p>
<ul>
<li><code>float xpos</code>
<ul>
<li>New X position of the mouse in screen coordinates with origin on the top-left corner of the window.</li>
</ul>
</li>
<li><code>float ypos</code>
<ul>
<li>New Y position of the mouse in screen coordinates with origin on the top-left corner of the window.</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-c">LinceBool OnMouseMoved(LinceEvent* e){
	MouseMovedEvent* mm = e-&gt;data.MouseMoved;
	printf(&quot; Mouse moved to %.3f,%.3f\n&quot;, mm-&gt;xpos, mm-&gt;ypos);
	return LinceFalse;
}
</code></pre>
<h2 id="mousescrolledevent"><a class="header" href="#mousescrolledevent">MouseScrolledEvent</a></h2>
<p>Takes place when scrolling occurs, either via the mouse wheel or a touchpad gesture. Typical mouse wheel scrolling only provides a Y coordinate, whereas touchpad scrolling is two dimensional (zooming, panning, etc). The specific event data is retrieved via <code>LinceEvent.data.MouseScrolled</code>.</p>
<p>Data:</p>
<ul>
<li><code>float xoff</code>
<ul>
<li>Magnitude of the scroll on the X axis</li>
</ul>
</li>
<li><code>float yoff</code>
<ul>
<li>Magnitude of the scroll on the Y axis</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code class="language-c">LinceBool OnMouseScrolled(LinceEvent* e){
	MouseScrolledEvent* mm = e-&gt;data.MouseScrolled;
	printf(&quot; Mouse scrolled by %.3f,%.3f\n&quot;, mm-&gt;xoff, mm-&gt;yoff);
	return LinceFalse;
}
</code></pre>
<h2 id="genericevent"><a class="header" href="#genericevent">GenericEvent</a></h2>
<p>This is an additional member of the <code>LinceEvent.data</code> union that can point to any raw data via a <code>void*</code> pointer.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="layers"><a class="header" href="#layers">Layers</a></h1>
<p>A layer is a set of geometry that is rendered together, usually in a single batch, but it can be split into more batches when there's a lot of vertices.</p>
<p>A layer system in a game engine is important to separate the rendering process into steps, with the vertices on each having different properties, roles, and being rendered in a different order (some layers are rendered after / above others).</p>
<h2 id="lincelayer"><a class="header" href="#lincelayer">LinceLayer</a></h2>
<p>The data structure that saves the state of a layer.</p>
<ul>
<li><code>void OnAttach(LinceLayer* layer)</code>
<ul>
<li>Callback called when a layer is added to the stack.</li>
</ul>
</li>
<li><code>void OnDetach(LinceLayer* layer)</code>
<ul>
<li>Callback called when a layer is removed from the stack.</li>
</ul>
</li>
<li><code>void OnUpdate(LinceLayer* layer, float dt)</code>
<ul>
<li>Callback called on every frame.</li>
<li>The second argument <code>float dt</code> is the delta time in seconds.</li>
</ul>
</li>
<li><code>void OnEvent(LinceLayer* layer, LinceEvent* event)</code>
<ul>
<li>Callback called when an event is propagated.</li>
</ul>
</li>
<li><code>void* data</code>
<ul>
<li>Custom user data which should be a pointer to an user-defined layer structure.</li>
</ul>
</li>
</ul>
<h3 id="example-code"><a class="header" href="#example-code">Example code</a></h3>
<p>This is a simple example of how to create and use a layer in Lince.</p>
<pre><code class="language-c">void MyLayerOnAttach(LinceLayer* layer){
	printf(&quot;MyLayer attached\n&quot;);
}

void MyLayerOnDetach(LinceLayer* layer){
	printf(&quot;MyLayer detached\n&quot;);
}

void MyLayerOnUpdate(LinceLayer* layer, float dt){

}

void MyLayerOnEvent(LinceLayer* layer, LinceEvent* e){

}

void GameInit(){

	LinceLayer* layer = LinceCreateLayer(NULL);

	layer-&gt;OnAttach = MyLayerOnAttach;
	layer-&gt;OnDetach = MyLayerOnDetach;
	layer-&gt;OnUpdate = MyLayerOnUpdate;
	layer-&gt;OnEvent = MyLayerOnEvent;

	LincePushLayer(layer);
}

int main(){
	// set user callbacks
	LinceApp* app = LinceGetAppState();
	app-&gt;game_init = GameInit;
	
	// run the application
	LinceRun();

	return 0;
}
</code></pre>
<h2 id="lincecreatelayer"><a class="header" href="#lincecreatelayer">LinceCreateLayer</a></h2>
<pre><code class="language-c">LinceLayer* LinceCreateLayer(void* data)
</code></pre>
<p>Allocates a new layer.</p>
<p>Parameters:</p>
<ul>
<li><code>void* data</code>
<ul>
<li>Custom user layer data
Returns:</li>
</ul>
</li>
<li><code>LinceLayer*</code>
<ul>
<li>Pointer to allocated layer</li>
</ul>
</li>
</ul>
<h2 id="lincegetlayerdata"><a class="header" href="#lincegetlayerdata">LinceGetLayerData</a></h2>
<pre><code class="language-c">void* LinceGetLayerData(LinceLayer* layer)
</code></pre>
<p>Deprecated. Retrieves user data from a layer.</p>
<h2 id="lincepushlayer"><a class="header" href="#lincepushlayer">LincePushLayer</a></h2>
<pre><code class="language-c">void LincePushLayer(LinceLayer* layer)
</code></pre>
<p>Appends a layer to the application's layer stack.</p>
<h2 id="lincepushoverlay"><a class="header" href="#lincepushoverlay">LincePushOverlay</a></h2>
<pre><code class="language-c">void LincePushOverlay(LinceLayer* layer)
</code></pre>
<p>Appends an overlay to the application's overlay stack.</p>
<h2 id="lincegetcurrentlayer"><a class="header" href="#lincegetcurrentlayer">LinceGetCurrentLayer</a></h2>
<pre><code class="language-c">LinceLayer* LinceGetCurrentLayer()
</code></pre>
<p>Retrieves a pointer to the current active layer.
If no layer is active, returns NULL.
This is useful when you need to retrieve layer data from within callbacks called on the layer's OnUpdate and OnEvent functions.</p>
<h2 id="lincegetcurrentoverlay"><a class="header" href="#lincegetcurrentoverlay">LinceGetCurrentOverlay</a></h2>
<pre><code class="language-c">LinceLayer* LinceGetCurrentOverlay()
</code></pre>
<p>Retrieves a pointer to the current active overlay.
If no overlay is active, returns NULL.
This is useful when you need to retrieve overlat data from within callbacks called on the overlays's OnUpdate and OnEvent functions.</p>
<h2 id="lincelayerstack"><a class="header" href="#lincelayerstack">LinceLayerStack</a></h2>
<p>Stack of layers that are updated from last to first.</p>
<ul>
<li><code>LinceLayer** layers</code>
<ul>
<li>Array of layer pointers which constitutes the stack.</li>
</ul>
</li>
<li><code>unsigned int count</code>
<ul>
<li>Number of layers in the stack.</li>
</ul>
</li>
</ul>
<h2 id="lincecreatelayerstack"><a class="header" href="#lincecreatelayerstack">LinceCreateLayerStack</a></h2>
<pre><code class="language-c">LinceLayerStack* LinceCreateLayerStack()
</code></pre>
<p>Allocates a new layer stack.</p>
<h2 id="lincedestroylayerstack"><a class="header" href="#lincedestroylayerstack">LinceDestroyLayerStack</a></h2>
<pre><code class="language-c">void LinceDestroyLayerStack(LinceLayerStack*)
</code></pre>
<p>Deletes all layers on the stack, calling their OnDetach callbacks in order.</p>
<h2 id="lincelayerstackpush"><a class="header" href="#lincelayerstackpush">LinceLayerStackPush</a></h2>
<pre><code class="language-c">void LinceLayerStackPush(LinceLayerStack*, LinceLayer*)
</code></pre>
<p>Appends a layer to the stack.</p>
<h2 id="lincelayerstackpop"><a class="header" href="#lincelayerstackpop">LinceLayerStackPop</a></h2>
<pre><code class="language-c">void LinceLayerStackPop(LinceLayerStack*, LinceLayer*)
</code></pre>
<p>Removes a layer from the stack.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="input"><a class="header" href="#input">Input</a></h1>
<h2 id="linceiskeypressed"><a class="header" href="#linceiskeypressed">LinceIsKeyPressed</a></h2>
<pre><code class="language-c">unsigned int LinceIsKeyPressed(int key)
</code></pre>
<h2 id="linceismousebuttonpressed"><a class="header" href="#linceismousebuttonpressed">LinceIsMouseButtonPressed</a></h2>
<pre><code class="language-c">unsigned int LinceIsMouseButtonPressed(int button)
</code></pre>
<h2 id="lincegetmousepos"><a class="header" href="#lincegetmousepos">LinceGetMousePos</a></h2>
<pre><code class="language-c">void LinceGetMousePos(float* xpos, float* ypos)
</code></pre>
<h2 id="lincegetmousex"><a class="header" href="#lincegetmousex">LinceGetMouseX</a></h2>
<pre><code class="language-c">float LinceGetMouseX()
</code></pre>
<h2 id="lincegetmousey"><a class="header" href="#lincegetmousey">LinceGetMouseY</a></h2>
<pre><code class="language-c">float LinceGetMouseY()
</code></pre>
<h2 id="lincekey"><a class="header" href="#lincekey">LinceKey</a></h2>
<p>Keycodes</p>
<table><thead><tr><th>Enum</th><th>Value</th><th>Key</th></tr></thead><tbody>
<tr><td>LinceKey_Unknown</td><td>-1</td><td></td></tr>
<tr><td>LinceKey_Space</td><td>32</td><td></td></tr>
<tr><td>LinceKey_Apostrophe</td><td>39</td><td>'</td></tr>
<tr><td>LinceKey_Comma</td><td>44</td><td>,</td></tr>
<tr><td>LinceKey_Minus</td><td>45</td><td>-</td></tr>
<tr><td>LinceKey_Period</td><td>46</td><td>.</td></tr>
<tr><td>LinceKey_Slash</td><td>47</td><td>/</td></tr>
<tr><td>LinceKey_0</td><td>48</td><td>0</td></tr>
<tr><td>LinceKey_1</td><td>49</td><td>1</td></tr>
<tr><td>LinceKey_2</td><td>50</td><td>2</td></tr>
<tr><td>LinceKey_3</td><td>51</td><td>3</td></tr>
<tr><td>LinceKey_4</td><td>52</td><td>4</td></tr>
<tr><td>LinceKey_5</td><td>53</td><td>5</td></tr>
<tr><td>LinceKey_6</td><td>54</td><td>6</td></tr>
<tr><td>LinceKey_7</td><td>55</td><td>7</td></tr>
<tr><td>LinceKey_8</td><td>56</td><td>8</td></tr>
<tr><td>LinceKey_9</td><td>57</td><td>9</td></tr>
<tr><td>LinceKey_Semicolon</td><td>59</td><td>;</td></tr>
<tr><td>LinceKey_Equal</td><td>61</td><td>=</td></tr>
<tr><td>LinceKey_a</td><td>65</td><td>a</td></tr>
<tr><td>LinceKey_b</td><td>66</td><td>b</td></tr>
<tr><td>LinceKey_c</td><td>67</td><td>c</td></tr>
<tr><td>LinceKey_d</td><td>68</td><td>d</td></tr>
<tr><td>LinceKey_e</td><td>69</td><td>e</td></tr>
<tr><td>LinceKey_f</td><td>70</td><td>f</td></tr>
<tr><td>LinceKey_g</td><td>71</td><td>g</td></tr>
<tr><td>LinceKey_h</td><td>72</td><td>h</td></tr>
<tr><td>LinceKey_i</td><td>73</td><td>i</td></tr>
<tr><td>LinceKey_j</td><td>74</td><td>j</td></tr>
<tr><td>LinceKey_k</td><td>75</td><td>k</td></tr>
<tr><td>LinceKey_l</td><td>76</td><td>l</td></tr>
<tr><td>LinceKey_m</td><td>77</td><td>m</td></tr>
<tr><td>LinceKey_n</td><td>78</td><td>n</td></tr>
<tr><td>LinceKey_o</td><td>79</td><td>o</td></tr>
<tr><td>LinceKey_p</td><td>80</td><td>p</td></tr>
<tr><td>LinceKey_q</td><td>81</td><td>q</td></tr>
<tr><td>LinceKey_r</td><td>82</td><td>r</td></tr>
<tr><td>LinceKey_s</td><td>83</td><td>s</td></tr>
<tr><td>LinceKey_t</td><td>84</td><td>t</td></tr>
<tr><td>LinceKey_u</td><td>85</td><td>u</td></tr>
<tr><td>LinceKey_v</td><td>86</td><td>v</td></tr>
<tr><td>LinceKey_w</td><td>87</td><td>w</td></tr>
<tr><td>LinceKey_x</td><td>88</td><td>x</td></tr>
<tr><td>LinceKey_y</td><td>89</td><td>y</td></tr>
<tr><td>LinceKey_z</td><td>90</td><td>z</td></tr>
<tr><td>LinceKey_LeftBracket</td><td>91</td><td>[</td></tr>
<tr><td>LinceKey_Backslash</td><td>92</td><td>\</td></tr>
<tr><td>LinceKey_RightBracket</td><td>93</td><td>]</td></tr>
<tr><td>LinceKey_GraveAccent</td><td>96</td><td>`</td></tr>
<tr><td>LinceKey_World1</td><td>161</td><td></td></tr>
<tr><td>LinceKey_World2</td><td>162</td><td></td></tr>
<tr><td>LinceKey_Escape</td><td>256</td><td></td></tr>
<tr><td>LinceKey_Enter</td><td>257</td><td></td></tr>
<tr><td>LinceKey_Tab</td><td>258</td><td></td></tr>
<tr><td>LinceKey_Backspace</td><td>259</td><td></td></tr>
<tr><td>LinceKey_Insert</td><td>260</td><td></td></tr>
<tr><td>LinceKey_Delete</td><td>261</td><td></td></tr>
<tr><td>LinceKey_Right</td><td>262</td><td></td></tr>
<tr><td>LinceKey_Left</td><td>263</td><td></td></tr>
<tr><td>LinceKey_Down</td><td>264</td><td></td></tr>
<tr><td>LinceKey_Up</td><td>265</td><td></td></tr>
<tr><td>LinceKey_PageUp</td><td>266</td><td></td></tr>
<tr><td>LinceKey_PageDown</td><td>267</td><td></td></tr>
<tr><td>LinceKey_Home</td><td>268</td><td></td></tr>
<tr><td>LinceKey_End</td><td>269</td><td></td></tr>
<tr><td>LinceKey_CapsLock</td><td>280</td><td></td></tr>
<tr><td>LinceKey_ScrollLock</td><td>281</td><td></td></tr>
<tr><td>LinceKey_NumLock</td><td>282</td><td></td></tr>
<tr><td>LinceKey_PrintScreen</td><td>283</td><td></td></tr>
<tr><td>LinceKey_Pause</td><td>284</td><td></td></tr>
<tr><td>LinceKey_F1</td><td>290</td><td></td></tr>
<tr><td>LinceKey_F2</td><td>291</td><td></td></tr>
<tr><td>LinceKey_F3</td><td>292</td><td></td></tr>
<tr><td>LinceKey_F4</td><td>293</td><td></td></tr>
<tr><td>LinceKey_F5</td><td>294</td><td></td></tr>
<tr><td>LinceKey_F6</td><td>295</td><td></td></tr>
<tr><td>LinceKey_F7</td><td>296</td><td></td></tr>
<tr><td>LinceKey_F8</td><td>297</td><td></td></tr>
<tr><td>LinceKey_F9</td><td>298</td><td></td></tr>
<tr><td>LinceKey_F10</td><td>299</td><td></td></tr>
<tr><td>LinceKey_F11</td><td>300</td><td></td></tr>
<tr><td>LinceKey_F12</td><td>301</td><td></td></tr>
<tr><td>LinceKey_F13</td><td>302</td><td></td></tr>
<tr><td>LinceKey_F14</td><td>303</td><td></td></tr>
<tr><td>LinceKey_F15</td><td>304</td><td></td></tr>
<tr><td>LinceKey_F16</td><td>305</td><td></td></tr>
<tr><td>LinceKey_F17</td><td>306</td><td></td></tr>
<tr><td>LinceKey_F18</td><td>307</td><td></td></tr>
<tr><td>LinceKey_F19</td><td>308</td><td></td></tr>
<tr><td>LinceKey_F20</td><td>309</td><td></td></tr>
<tr><td>LinceKey_F21</td><td>310</td><td></td></tr>
<tr><td>LinceKey_F22</td><td>311</td><td></td></tr>
<tr><td>LinceKey_F23</td><td>312</td><td></td></tr>
<tr><td>LinceKey_F24</td><td>313</td><td></td></tr>
<tr><td>LinceKey_F25</td><td>314</td><td></td></tr>
<tr><td>LinceKey_Kp0</td><td>320</td><td></td></tr>
<tr><td>LinceKey_Kp1</td><td>321</td><td></td></tr>
<tr><td>LinceKey_Kp2</td><td>322</td><td></td></tr>
<tr><td>LinceKey_Kp3</td><td>323</td><td></td></tr>
<tr><td>LinceKey_Kp4</td><td>324</td><td></td></tr>
<tr><td>LinceKey_Kp5</td><td>325</td><td></td></tr>
<tr><td>LinceKey_Kp6</td><td>326</td><td></td></tr>
<tr><td>LinceKey_Kp7</td><td>327</td><td></td></tr>
<tr><td>LinceKey_Kp8</td><td>328</td><td></td></tr>
<tr><td>LinceKey_Kp9</td><td>329</td><td></td></tr>
<tr><td>LinceKey_KpDecimal</td><td>330</td><td></td></tr>
<tr><td>LinceKey_KpDivide</td><td>331</td><td></td></tr>
<tr><td>LinceKey_KpMultiply</td><td>332</td><td></td></tr>
<tr><td>LinceKey_KpSubtract</td><td>333</td><td></td></tr>
<tr><td>LinceKey_KpAdd</td><td>334</td><td></td></tr>
<tr><td>LinceKey_KpEnter</td><td>335</td><td></td></tr>
<tr><td>LinceKey_KpEqual</td><td>336</td><td></td></tr>
<tr><td>LinceKey_LeftShift</td><td>340</td><td></td></tr>
<tr><td>LinceKey_LeftControl</td><td>341</td><td></td></tr>
<tr><td>LinceKey_LeftAlt</td><td>342</td><td></td></tr>
<tr><td>LinceKey_LeftSuper</td><td>343</td><td></td></tr>
<tr><td>LinceKey_RightShift</td><td>344</td><td></td></tr>
<tr><td>LinceKey_RightControl</td><td>345</td><td></td></tr>
<tr><td>LinceKey_RightAlt</td><td>346</td><td></td></tr>
<tr><td>LinceKey_RightSuper</td><td>347</td><td></td></tr>
<tr><td>LinceKey_Menu</td><td>348</td><td></td></tr>
<tr><td>LinceKey_Last</td><td>LinceKey_Menu</td><td></td></tr>
</tbody></table>
<h2 id="lincemousebutton"><a class="header" href="#lincemousebutton">LinceMouseButton</a></h2>
<p>Mouse button codes</p>
<table><thead><tr><th>Enum</th><th>Value</th></tr></thead><tbody>
<tr><td>LinceMouseButton_1</td><td>0</td></tr>
<tr><td>LinceMouseButton_2</td><td>1</td></tr>
<tr><td>LinceMouseButton_3</td><td>2</td></tr>
<tr><td>LinceMouseButton_4</td><td>3</td></tr>
<tr><td>LinceMouseButton_5</td><td>4</td></tr>
<tr><td>LinceMouseButton_6</td><td>5</td></tr>
<tr><td>LinceMouseButton_7</td><td>6</td></tr>
<tr><td>LinceMouseButton_8</td><td>7</td></tr>
<tr><td>LinceMouseButton_Last</td><td>LinceMouseButton_8</td></tr>
<tr><td>LinceMouseButton_Left</td><td>LinceMouseButton_1</td></tr>
<tr><td>LinceMouseButton_Right</td><td>LinceMouseButton_2</td></tr>
<tr><td>LinceMouseButton_Middle</td><td>LinceMouseButton_3</td></tr>
</tbody></table>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
