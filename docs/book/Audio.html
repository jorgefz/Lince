<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Audio - Lince Documentation Website</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="HomePage.html">Home Page</a></li><li class="chapter-item expanded "><a href="App.html"><strong aria-hidden="true">1.</strong> App</a></li><li class="chapter-item expanded "><a href="Events.html"><strong aria-hidden="true">2.</strong> Events</a></li><li class="chapter-item expanded "><a href="Layers.html"><strong aria-hidden="true">3.</strong> Layers</a></li><li class="chapter-item expanded "><a href="Input.html"><strong aria-hidden="true">4.</strong> Input</a></li><li class="chapter-item expanded "><a href="Rendering.html"><strong aria-hidden="true">5.</strong> Rendering</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Buffers.html"><strong aria-hidden="true">5.1.</strong> Buffers</a></li><li class="chapter-item expanded "><a href="VertexArrays.html"><strong aria-hidden="true">5.2.</strong> Vertex Arrays</a></li><li class="chapter-item expanded "><a href="Shaders.html"><strong aria-hidden="true">5.3.</strong> Shaders</a></li><li class="chapter-item expanded "><a href="Textures.html"><strong aria-hidden="true">5.4.</strong> Textures</a></li><li class="chapter-item expanded "><a href="Renderer.html"><strong aria-hidden="true">5.5.</strong> Renderer</a></li><li class="chapter-item expanded "><a href="Cameras.html"><strong aria-hidden="true">5.6.</strong> Cameras</a></li></ol></li><li class="chapter-item expanded "><a href="UI.html"><strong aria-hidden="true">6.</strong> UI</a></li><li class="chapter-item expanded "><a href="Tiles.html"><strong aria-hidden="true">7.</strong> Tiles</a></li><li class="chapter-item expanded "><a href="Audio.html" class="active"><strong aria-hidden="true">8.</strong> Audio</a></li><li class="chapter-item expanded "><a href="DevDiary.html"><strong aria-hidden="true">9.</strong> Development Diary</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ToDo.html"><strong aria-hidden="true">9.1.</strong> ToDo</a></li><li class="chapter-item expanded "><a href="Versions.html"><strong aria-hidden="true">9.2.</strong> Version History</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Lince Documentation Website</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="audio"><a class="header" href="#audio">Audio</a></h1>
<h2 id="example-code"><a class="header" href="#example-code">Example code</a></h2>
<pre><code class="language-c">
LinceAudioEngine* audio_engine;
LinceSoundManager* sound_manager;
LinceSound *music;

void OnInit(){
    LinceSoundConfig sound_config = LinceGetDefaultSoundConfig();
    sound_config.volume = 0.5f;

    audio_engine = LinceCreateAudioEngine();
    sound_manager = LinceCreateSoundManager(audio_engine, &quot;meow.wav&quot;);
    music = LinceLoadStream(audio_engine, &quot;music.wav&quot;);

    // Play background music
    music-&gt;config.volume = 0.3f;
    LinceUpdateSound(music);
    LincePlaySound(music);
}

void OnUpdate(){
    if( nk_button(...) ){
        // Play a sound
        LinceSpawnSound(audio_engine, sound_manager, &amp;sound_config);
    }
}

void OnTerminate(){
    LinceDeleteSoundManager(sound_manager);
    LinceDeleteSound(music);
    LinceTerminateAudioEngine(audio_engine);
}

</code></pre>
<h2 id="lincesoundtype"><a class="header" href="#lincesoundtype">LinceSoundType</a></h2>
<p>Types of sound:</p>
<ul>
<li>Buffered sounds are entirely loaded onto memory - best for sounds shorter than 5 sec</li>
<li>Streamed sounds are simultaneously read and played - best for music or sounds longer than 5 sec</li>
</ul>
<div class="table-wrapper"><table><thead><tr><th>Enum</th><th>Value</th></tr></thead><tbody>
<tr><td>LinceSound_Buffer</td><td>0</td></tr>
<tr><td>LinceSound_Stream</td><td>1</td></tr>
</tbody></table>
</div>
<h2 id="lincesoundconfig"><a class="header" href="#lincesoundconfig">LinceSoundConfig</a></h2>
<p>Structure that holds configuration settings that modify how a sound is played.</p>
<ul>
<li><code>float volume</code>
<ul>
<li>Sound volume, positive number where a value of zero is silence</li>
</ul>
</li>
<li><code>float pitch</code>
<ul>
<li>Frequency offset. A positive value makes the sound higher frequency, and a negative value reduces its frequency</li>
</ul>
</li>
<li><code>float pan</code>
<ul>
<li>Which speaker dominates, from left (-1.0) to both (0.0) to right (1.0)</li>
</ul>
</li>
<li><code>LinceBool loop</code>
<ul>
<li>Switch whether sound should loop over and play continuously</li>
</ul>
</li>
</ul>
<h2 id="lincesound"><a class="header" href="#lincesound">LinceSound</a></h2>
<p>Main data structure for a single sound object that can be played. A single LinceSound can play a single sound only. To play the same sound simultaneously, load several LinceSound objects or use a sound manager (see below). </p>
<ul>
<li><code>void* handle</code>
<ul>
<li>Opaque pointer to an <code>ma_sound</code> object</li>
</ul>
</li>
<li><code>char* filename</code>
<ul>
<li>Filename of the loaded audio file</li>
</ul>
</li>
<li><code>enum LinceSoundType type</code>
<ul>
<li>Whether this instance is buffered or streamed</li>
</ul>
</li>
<li><code>LinceSoundConfig config</code>
<ul>
<li>Settings that affect how the sound is played</li>
</ul>
</li>
</ul>
<h2 id="lincesoundmanager"><a class="header" href="#lincesoundmanager">LinceSoundManager</a></h2>
<p>Object that can spawn and play sound instances at will, allowing to play the same sound simultaneously without having to manually create and manage separate LinceSound instances. When spawning a sound, it first checks whether another cached sound instance is stopped or has finished playing and recycles it. Otherwise, it creates a new instance.</p>
<ul>
<li><code>array_t sound_cache</code>
<ul>
<li>Array of cached LinceSounds</li>
</ul>
</li>
<li><code>char* filename</code>
<ul>
<li>Filename of the audio file</li>
</ul>
</li>
<li><code>enum LinceSoundType type</code>
<ul>
<li>Whether it manages buffered or streamed sounds</li>
</ul>
</li>
</ul>
<h2 id="linceaudioengine"><a class="header" href="#linceaudioengine">LinceAudioEngine</a></h2>
<p>The audio engine is used by the Miniaudio backend to open sound files, communicate with the OS, and keep track of all loaded sounds. It must be created before any sound is loaded, and destroyed when all sounds have been deleted.</p>
<ul>
<li><code>void* handle</code>
<ul>
<li>Opaque pointer to <code>ma_engine</code> object</li>
</ul>
</li>
</ul>
<h2 id="lincegetdefaultsoundconfig"><a class="header" href="#lincegetdefaultsoundconfig">LinceGetDefaultSoundConfig</a></h2>
<pre><code class="language-c">LinceSoundConfig LinceGetDefaultSoundConfig(void)
</code></pre>
<p>Returns the default initialisation settings for sounds.</p>
<p>Parameters: none
Returns:</p>
<ul>
<li><code>LinceSoundConfig</code>: default sound configuration</li>
</ul>
<h2 id="linceinitsound"><a class="header" href="#linceinitsound">LinceInitSound</a></h2>
<pre><code class="language-c">void LinceInitSound(LinceAudioEngine* audio, LinceSound* s);
</code></pre>
<p>Initialises a given LinceSound object from a filename.</p>
<p>Parameters:</p>
<ul>
<li><code>LinceAudioEngine* audio</code>: initialised audio engine</li>
<li><code>LinceSound* s</code>: sound object that must define a filename and a sound type. The configuration is optional. The <code>handle</code> parameter will be overwritten to point to an initialised sound object.</li>
</ul>
<p>Returns: none</p>
<h2 id="linceloadsound"><a class="header" href="#linceloadsound">LinceLoadSound</a></h2>
<pre><code class="language-c">LinceSound* LinceLoadSound(LinceAudioEngine* audio, const char* filename, LinceSoundConfig* config);
</code></pre>
<p>A helper function for <code>LinceInitSound</code> - creates a buffered sound from file and returns a heap-allocated pointer to it.
To play it, use <code>LincePlaySound</code>. Don't forget to delete it with <code>LinceDeleteSound()</code>.</p>
<p>Parameters:</p>
<ul>
<li><code>LinceAudioEngine* audio</code>: initialised audio engine</li>
<li><code>char* filename</code>: String filename of audio file to load.</li>
<li><code>LinceSoundConfig* config</code>: Optional configuration. If <code>NULL</code>, the default configuration is used.</li>
</ul>
<p>Returns:</p>
<ul>
<li><code>LinceSound* sound</code>: loaded buffered sound instance.</li>
</ul>
<h2 id="linceloadstream"><a class="header" href="#linceloadstream">LinceLoadStream</a></h2>
<pre><code class="language-c">LinceSound* LinceLoadStream(LinceAudioEngine* audio, const char* filename, LinceSoundConfig* config);
</code></pre>
<p>A helper function for <code>LinceInitSound</code> - creates a streamed sound from file and returns a heap-allocated pointer to it.
To play it, use <code>LincePlaySound</code>. Don't forget to delete it with <code>LinceDeleteSound()</code>.</p>
<p>Parameters:</p>
<ul>
<li><code>LinceAudioEngine* audio</code>: initialised audio engine</li>
<li><code>char* filename</code>: String filename of audio file to load.</li>
<li><code>LinceSoundConfig* config</code>: Optional configuration. If <code>NULL</code>, the default configuration is used.</li>
</ul>
<p>Returns:</p>
<ul>
<li><code>LinceSound* sound</code>: loaded streamed ssound instance.</li>
</ul>
<h2 id="lincedeletesound"><a class="header" href="#lincedeletesound">LinceDeleteSound</a></h2>
<pre><code class="language-c">void LinceDeleteSound(LinceSound* s);
</code></pre>
<p>Uninitialises and deallocates a sound object.</p>
<h2 id="linceplaysound"><a class="header" href="#linceplaysound">LincePlaySound</a></h2>
<pre><code class="language-c">void LincePlaySound(LinceSound* s);
</code></pre>
<p>Starts or continues playing a sound instance.</p>
<h2 id="lincestopsound"><a class="header" href="#lincestopsound">LinceStopSound</a></h2>
<pre><code class="language-c">void LinceStopSound(LinceSound* s);
</code></pre>
<p>Stops playing a sound instance.</p>
<h2 id="lincerewindsound"><a class="header" href="#lincerewindsound">LinceRewindSound</a></h2>
<pre><code class="language-c">void LinceRewindSound(LinceSound* s);
</code></pre>
<p>Resets the cursos on a sound instance, so that it plays from the beginning the next time it's played.</p>
<h2 id="linceissoundstopped"><a class="header" href="#linceissoundstopped">LinceIsSoundStopped</a></h2>
<pre><code class="language-c">LinceBool LinceIsSoundStopped(LinceSound* s);
</code></pre>
<p>Returns true if a sound has been stopped before finishing.</p>
<h2 id="linceissoundfinished"><a class="header" href="#linceissoundfinished">LinceIsSoundFinished</a></h2>
<pre><code class="language-c">LinceBool LinceIsSoundFinished(LinceSound* s);
</code></pre>
<p>Returns true if a sound has finished playing. It will never return true if a sound is set to loop over.</p>
<h2 id="linceissoundplaying"><a class="header" href="#linceissoundplaying">LinceIsSoundPlaying</a></h2>
<pre><code class="language-c">LinceBool LinceIsSoundPlaying(LinceSound* s);
</code></pre>
<p>Returns true if a sound is currently playing.</p>
<h2 id="linceupdatesound"><a class="header" href="#linceupdatesound">LinceUpdateSound</a></h2>
<pre><code class="language-c">void LinceUpdateSound(LinceSound* s);
</code></pre>
<p>Applies the changes made through the sound config.
Since the sound config can be updated on the fly via the sound object (e.g. <code>sound-&gt;config.volume = 1.0f</code>), this function must be called for these changes to have an effect.</p>
<h2 id="lincecreatesoundmanager"><a class="header" href="#lincecreatesoundmanager">LinceCreateSoundManager</a></h2>
<pre><code class="language-c">LinceSoundManager* LinceCreateSoundManager(LinceAudioEngine* audio, LinceSoundType type, const char* filename);
</code></pre>
<p>The sound manager allows for the same sound file to be played simultaneously on the fly. It dynamically creates and reuses sound objects each time a sound is requested. The manager must be uninitialised later as it is heap-allocated.</p>
<p>Parameters:</p>
<ul>
<li><code>LinceAudioEngine* audio</code>: initialised audio engine</li>
<li><code>LinceSoundType type</code>: The type of sound (buffered or streamed) that it will manage.</li>
<li><code>char* filename</code>: String filename of audio file to load.</li>
</ul>
<p>Returns:</p>
<ul>
<li><code>LinceSoundManager* manager</code>: initialised sound manager object.</li>
</ul>
<h2 id="lincespawnsound"><a class="header" href="#lincespawnsound">LinceSpawnSound</a></h2>
<pre><code class="language-c">void LinceSpawnSound(LinceAudioEngine* audio, LinceSoundManager* manager, LinceSoundConfig* config);
</code></pre>
<p>Used to play a sound managed by the sound manager.
The starting configuration for the sound (e.g. volume) can be specified as well.</p>
<p>Parameters:</p>
<ul>
<li><code>LinceAudioEngine* audio</code>: initialised audio engine</li>
<li><code>LinceSoundManager* manager</code>: initialised sound manager object.</li>
<li><code>LinceSoundConfig* config</code>: optional configuration for the newly spawned sound.</li>
</ul>
<p>Returns: none</p>
<h2 id="lincedeletesoundmanager"><a class="header" href="#lincedeletesoundmanager">LinceDeleteSoundManager</a></h2>
<pre><code class="language-c">void LinceDeleteSoundManager(LinceSoundManager* manager);
</code></pre>
<p>Frees an initialised sound manager.</p>
<h2 id="lincestopallmanagersounds"><a class="header" href="#lincestopallmanagersounds">LinceStopAllManagerSounds</a></h2>
<pre><code class="language-c">void LinceStopAllManagerSounds(LinceSoundManager* manager);
</code></pre>
<p>Stops all the sounds owned by a sound manager, which flags them for reuse.</p>
<h2 id="lincecreateaudioengine"><a class="header" href="#lincecreateaudioengine">LinceCreateAudioEngine</a></h2>
<pre><code class="language-c">LinceAudioEngine* LinceCreateAudioEngine(void);
</code></pre>
<p>Initialises an audio engine</p>
<h2 id="lincedeleteaudioengine"><a class="header" href="#lincedeleteaudioengine">LinceDeleteAudioEngine</a></h2>
<pre><code class="language-c">void LinceDeleteAudioEngine(LinceAudioEngine* audio);
</code></pre>
<p>Deletes an audio engine</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="Tiles.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="DevDiary.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="Tiles.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="DevDiary.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
